<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>getter和setter | Lei的博客</title>
    <meta name="description" content="每天都要有进步，学无止境，永不停步！">
    
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.ab926ebc.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.cfbc29c8.js" as="script"><link rel="preload" href="/myBlog/assets/js/9.b1c3a161.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/10.d02f8b2c.js"><link rel="prefetch" href="/myBlog/assets/js/11.28bc3128.js"><link rel="prefetch" href="/myBlog/assets/js/12.9695e69b.js"><link rel="prefetch" href="/myBlog/assets/js/13.64325573.js"><link rel="prefetch" href="/myBlog/assets/js/14.ae13175c.js"><link rel="prefetch" href="/myBlog/assets/js/15.dadd1b62.js"><link rel="prefetch" href="/myBlog/assets/js/16.21bdbc66.js"><link rel="prefetch" href="/myBlog/assets/js/17.185ed2bf.js"><link rel="prefetch" href="/myBlog/assets/js/18.9b8893e8.js"><link rel="prefetch" href="/myBlog/assets/js/19.b7e1b25a.js"><link rel="prefetch" href="/myBlog/assets/js/2.9afd41c3.js"><link rel="prefetch" href="/myBlog/assets/js/20.8d93eced.js"><link rel="prefetch" href="/myBlog/assets/js/21.9ce86748.js"><link rel="prefetch" href="/myBlog/assets/js/22.76f411bd.js"><link rel="prefetch" href="/myBlog/assets/js/23.3336daaa.js"><link rel="prefetch" href="/myBlog/assets/js/24.47df66d9.js"><link rel="prefetch" href="/myBlog/assets/js/25.71091c7a.js"><link rel="prefetch" href="/myBlog/assets/js/26.3de12df2.js"><link rel="prefetch" href="/myBlog/assets/js/27.44c1c49d.js"><link rel="prefetch" href="/myBlog/assets/js/28.e415a9e4.js"><link rel="prefetch" href="/myBlog/assets/js/3.f4ca7fc3.js"><link rel="prefetch" href="/myBlog/assets/js/4.be296ccd.js"><link rel="prefetch" href="/myBlog/assets/js/5.80a1b20c.js"><link rel="prefetch" href="/myBlog/assets/js/6.c9cfe50d.js"><link rel="prefetch" href="/myBlog/assets/js/7.0e46f2d0.js"><link rel="prefetch" href="/myBlog/assets/js/8.53328b76.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.ab926ebc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><!----> <span class="site-name">Lei的博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myBlog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/myBlog/jsnotes/" class="nav-link router-link-active">JavaScript</a></div><div class="nav-item"><a href="/myBlog/cssnotes/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/myBlog/demos/" class="nav-link">场景实例</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/doms/" class="nav-link">DOM</a></li></ul></div></div> <a href="https://github.com/leichangchun/myBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myBlog/" class="nav-link">Home</a></div><div class="nav-item"><a href="/myBlog/jsnotes/" class="nav-link router-link-active">JavaScript</a></div><div class="nav-item"><a href="/myBlog/cssnotes/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/myBlog/demos/" class="nav-link">场景实例</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/doms/" class="nav-link">DOM</a></li></ul></div></div> <a href="https://github.com/leichangchun/myBlog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/myBlog/jsnotes/" class="sidebar-link">JavaScript</a></li><li><a href="/myBlog/jsnotes/js-deepcopy.html" class="sidebar-link">实现数组和对象的深浅拷贝</a></li><li><a href="/myBlog/jsnotes/js-obj-extend.html" class="sidebar-link">实现对象合并功能</a></li><li><a href="/myBlog/jsnotes/js-type-change.html" class="sidebar-link">那些不经意间发生的数据类型自动转换</a></li><li><a href="/myBlog/jsnotes/js-travesal.html" class="sidebar-link">JavaScript遍历对象</a></li><li><a href="/myBlog/jsnotes/js-remove-arrayrepeat.html" class="sidebar-link">从“繁”到“简”进行数组去重</a></li><li><a href="/myBlog/jsnotes/js-getter-setter.html" class="active sidebar-link">getter和setter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/jsnotes/js-getter-setter.html#简单的getter-setter" class="sidebar-link">简单的getter , setter</a></li><li class="sidebar-sub-header"><a href="/myBlog/jsnotes/js-getter-setter.html#使用defineproperty" class="sidebar-link">使用defineProperty</a></li><li class="sidebar-sub-header"><a href="/myBlog/jsnotes/js-getter-setter.html#class中的-getter-setter" class="sidebar-link">Class中的 getter setter</a></li><li class="sidebar-sub-header"><a href="/myBlog/jsnotes/js-getter-setter.html#typescript中的-getter和setter" class="sidebar-link">TypeScript中的 getter和setter</a></li></ul></li><li><a href="/myBlog/jsnotes/js-has-property.html" class="sidebar-link">JavaScript 判断对象中是否有某属性</a></li><li><a href="/myBlog/jsnotes/js-reg-lastindex.html" class="sidebar-link">lastIndex对正则结果的影响</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="getter和setter"><a href="#getter和setter" aria-hidden="true" class="header-anchor">#</a> getter和setter</h1> <p>对象的属性是由属性名name，值key，和其他特性（可读写性 writable，可枚举性enumerable，可配置性configurable）组成的。从ES5开发，提供了getter和setter 可以将属性值的获取和设置分别绑定到方法上，称之为“存取器”。有了<code>getter</code>和<code>setter</code>我们就能够在属性值的变更和获取时实现一些操作。</p> <h2 id="简单的getter-setter"><a href="#简单的getter-setter" aria-hidden="true" class="header-anchor">#</a> 简单的getter , setter</h2> <p>直接在对象中创建属性的getter和setter，并进行测试。</p> <div class="language-js extra-class"><pre class="language-js"><code>    window<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token punctuation">{</span>
        _num <span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token keyword">get</span> <span class="token function">percent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_num <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">set</span> <span class="token function">percent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'update _num :'</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_num <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>注意语法规则，是通过get和set关键字创建的percent属性的getter和setter函数。**get函数是没有参数的，set函数会将等号右边的值作为参数。**当访问percent属性时，会返回_num加%，当设置percent时，会打印日志并将值赋给_num。</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>get不能添加任何参数，否则会报错 <code>Uncaught SyntaxError: Getter must not have any formal parameters.</code></p></div> <h2 id="使用defineproperty"><a href="#使用defineproperty" aria-hidden="true" class="header-anchor">#</a> 使用defineProperty</h2> <p>如何在已有的对象上添加getter和setter呢？<br> <code>Object.defineProperty(obj, prop, descriptor)</code> ，obj为将要操作的对象，prop是将要定义或者修改的属性名，descriptor是将要被修改或者定义的描述符。</p> <div class="language-js extra-class"><pre class="language-js"><code>    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>x <span class="token punctuation">,</span> <span class="token string">'percent'</span> <span class="token punctuation">,</span> <span class="token punctuation">{</span>
        <span class="token keyword">get</span> <span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_num <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">set</span> <span class="token punctuation">:</span><span class="token keyword">function</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'update _num :'</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_num <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>defineProperty()</code>添加或者修改属性的时候需要注意：</p> <ol><li><p>数据描述符<code>configurable</code>标志着该属性能够被改变，能够被删除，默认为false</p></li> <li><p>数据描述符<code>enumerable</code>标志着该属性是否可枚举，默认为false。<strong>只有可枚举属性才会在for in中遍历，Object.keys()中返回</strong>。另外，<strong>所有的内置方法都是不可枚举的</strong>，eg：toString</p></li> <li><p>数据描述符value默认为undefined，writable默认为false。所以defineProperty默认新增的属性，是不可以被赋值运算符修改的。</p></li> <li><p>存取描述符set和get都默认为undefined</p></li> <li><p>set/get是不能够和value或者writable一起用的，因为当是存取器属性的时候，当设置了set标志着可写，设置了get就标志着可读，而value也是通过get函数返回的，所以不能同时使用。</p></li></ol> <h2 id="class中的-getter-setter"><a href="#class中的-getter-setter" aria-hidden="true" class="header-anchor">#</a> Class中的 getter setter</h2> <p>ES6新增<code>class</code>的概念，改变了构造对象的书写方式，class中同样可以设置存取器。</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">class</span> <span class="token class-name">X</span> <span class="token punctuation">{</span>
        <span class="token function">constructor</span> <span class="token punctuation">(</span> _num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_num <span class="token operator">=</span> _num<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">get</span> <span class="token function">percent</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_num <span class="token operator">+</span> <span class="token string">'%'</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">set</span> <span class="token function">percent</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'update _num :'</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>_num <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div><h2 id="typescript中的-getter和setter"><a href="#typescript中的-getter和setter" aria-hidden="true" class="header-anchor">#</a> TypeScript中的 getter和setter</h2> <p>Angular项目中使用的是<code>ts</code>，<code>ts</code>的class语法与ES6的稍有不同，通过项目中的一个小栗子记录下ts中的getter和setter。场景如下，有一个datepicker组件，可以调整时间级别为5分钟或者天。不同级别时，datepicker组件需要作出不同的调整。</p> <div class="img-center"><img src="data:image/png;base64,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"></div> <p>做如下处理： datepicker组件中有<code>@input</code>来接受级别的调整，在set中做一些操作。</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">LdatepickerComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>

  <span class="token keyword">public</span> _level<span class="token punctuation">:</span> Level <span class="token operator">=</span> <span class="token string">'minite'</span><span class="token punctuation">;</span>

  @<span class="token function">Input</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">get</span> <span class="token function">level</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> Level <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_level<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">set</span> <span class="token function">level</span> <span class="token punctuation">(</span> value<span class="token punctuation">:</span> Level <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 修改级别后 重置组件的状态</span>
        <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token comment">// 发送新的时间为0</span>
        <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    

      <span class="token keyword">this</span><span class="token punctuation">.</span>_level <span class="token operator">=</span> value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>当选择不同的级别时，传入到datepicker组件的level会变化，此时的set会对组件做一些自定义的操作，实现需求。</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/myBlog/jsnotes/js-remove-arrayrepeat.html" class="prev">
          从“繁”到“简”进行数组去重
        </a></span> <span class="next"><a href="/myBlog/jsnotes/js-has-property.html">
          JavaScript 判断对象中是否有某属性
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/myBlog/assets/js/app.cfbc29c8.js" defer></script><script src="/myBlog/assets/js/9.b1c3a161.js" defer></script>
  </body>
</html>
